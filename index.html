<!--<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>クイズ</title>
  <link rel="apple-touch-icon" href="IMG_6612.jpeg">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4CAF50">
  <style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  html, body {
    height: 100%;
    width: 100%;
  }
  body {
    display: flex;
    flex-direction: row;
  }
  #menu-button {
    position: fixed;
    top: 1vh;
    left: 1vw;
    background: none;
    border: none;
    padding: 0;
    font-size: 4vh;
    font-weight: bold;
    z-index: 1000;
    cursor: pointer;
  }
  #header-area {
    width: 20vw;
    min-width: 120px;
    background-color: #f0f0f0;
    padding: 2vh 1vw;
    height: 100vh;
    box-sizing: border-box;
  }
  #header-area h2 {
    cursor: pointer;
    margin: 2vh 0;
    font-size: 2.5vh;
  }
  hr {
    margin-top: 2vh;
  }
    #viewer {
      flex-grow: 1;
      border: none;
      height: 100vh;
      padding-top: 6vh;
      box-sizing: border-box;
      display:none;
    }
  @media (max-width: 600px) {
    #header-area {
      width: 50vw;
    }
    #menu-button {
      font-size: 5vh;
    }
    #header-area h2 {
      font-size: 3vh;
    }
  }
  </style>
</head>
<body>
  <div id="menu-button" onclick="toggleHeader()">≡</div>
  <div id="header-area">
    <div style="margin-top:6vh;">
      <h2 onclick="SocialStudies()">社会</h2>
      <hr>
    </div>
  </div>
  <!-- viewer 
  <div id="viewer">
    <style>
      html {
  font-size: calc(4vmin);
}
.container {
  width: calc(100% - 20px);
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box;
}
h4 {
  margin: 0 0 1rem 0;
}
textarea {
  width: 100%;
  font-size: 1em;
  padding: 0.8em;
  margin: 1em 0;
  border-radius: 0.5em;
  border: 1px solid #ccc;
  box-sizing: border-box;
  height: 10em;
  resize: vertical;
}
button {
  font-size: 1em;
  padding: 0.8em 1.5em;
  border: none;
  border-radius: 0.5em;
  background-color: #4CAF50;
  color: white;
  cursor: pointer;
  margin-top: 1em;
}
button:hover {
  background-color: #45a049;
}
    </style>
    <div class="container">
      <h4 id="idName"></h4>
      <textarea id="Textarea"></textarea>
      <button onclick="CheckAnswer()">解答</button>
      <button onclick="Question()">次の問題</button>
    </div>
  </div>
<script>
  let question = [];
  let answer   = [];
  const check  = [];
  let NoQ = 0;
  function toggleHeader(){
    const header=document.getElementById('header-area');
    header.style.display=(header.style.display==="none")?"block":"none";
  }
  function SocialStudies(){
    question=[
      "今から約700万年から600万年前にアフリカで現れた，現在知られている最も古い人類",
      "今から250万年ほど前，地球が寒冷化していた時代を何と呼ぶか？",
      "聖徳太子が提唱した，役人の心構えを示す憲法",
      "中大兄皇子と中臣鎌足が蘇我氏を倒した戦い",
      "天智天皇となった中大兄皇子の死後，次期天皇を決めるために起こった戦い",
      "壬申の乱に勝利したのは誰か",
      "唐の律令に倣って制定された体制",
      "天皇が幼い頃は摂政として，天皇が成長してからは関白として政治を行う仕組み",
      "平安時代，摂関政治をしていた一族",
      "天皇が上皇となってからも院で政治を行う仕組み",
      "院政を始めた上皇は誰か",
      "鎌倉時代，執権となり権力を持った一族",
      "1221年に起こった，幕府と後鳥羽上皇らとの戦い",
      "北条泰時が制定した，武士の社会で行われていた慣習に基づいてつくられた法律",
      "元寇との戦いに勝利しても土地がもらえない御家人の負担に対して出された，御家人の借金を帳消しにするという令",
      "後醍醐天皇が行なった，天皇中心で貴族重視の政治",
      "室町時代の風潮で，地位が下の者が上の者に反抗すること",
      "織田信長が行った，城下町の経済を活性化させることを目的とした政策",
      "豊臣秀吉が行った，統一の基準で土地を調査する政策",
      "一揆を防ぐため，百姓や神社から刀や鉄砲などの武器を取り上げたこと",
      "太閤検地や刀狩などによって，武士と農民との身分の区別が明確になったこと",
      "幕府が定めた，大名が許可なく白を修理したり，無断で縁組をしたりすることを禁止する法律",
      "3代将軍徳川俊光が大名統制のために制度化した，大名を定期的に江戸に向かわせ将軍に挨拶する決まり",
      "8代将軍徳川吉宗が行った，倹約令や上げ米の制などの政治改革",
      "徳川吉宗が定めた裁判の基準となる法律",
      "松平定信が行った，農村の立て直しと政治の引き締めを図った改革",
      "老中の水野忠邦が行った，享保の改革と寛政の改革を手本とした改革",
      "天保の改革後，取り締まりが緩和された，外国船の撃退を命じた令",
      "政府が地券を発行し，地価を基準に3％の税をかけるという法律",
      "1889年2月11日，天皇が国民に与えるという形で発布された憲法",
      "1920年にウィルソン大統領の提案を基にして発足した連盟",
      "第一次世界大戦後，民主主義が強く唱えられていた風潮",
      "満25歳以上のすべての男性に選挙権を与えるという法律",
      "普通選挙法と同年に制定された，共産主義などを取り締まる法律",
      "1932年1月15日に起こった，海軍の青年将校などが首相官邸を襲い，犬養毅首相を殺害した事件",
      "1936年2月26日に起こった，陸軍の青年将校が大臣などを殺傷し，東京の中心部を占拠した事件",
      "1945年10月，連合国が創った連合",
      "1946年11月3日に公布され，翌年5月3日に施行された，大日本帝国憲法に代わる新しい憲法",
      "1951年，吉田茂内閣がアメリカなど48ヵ国と結んだ条約",
      "1956年，鳩山一郎内閣によってソ連との国交が回復した条約",
      "飛鳥時代の支配の仕組みである，国家が土地と人々を直接支配すること",
      "大宝律令が制定されてできた，6歳以上の男女に収穫量の約3％の稲を納めさせる税",
      "大宝律令が制定されてできた，成年男性に絹や糸や魚介類などの特産物を納めさせる税",
      "大宝律令が制定されてできた，成年男性に労役のかわりとして麻布を納めさせる税",
      "大宝律令が制定されてできた，指名された成年男性に3年間の九州北部の防衛をさせる税",
      "6歳以上のすべての男女に口分田が与えられ，それに応じて租を負担するという法律",
      "743年に制定された，新しく開墾した土地の永久私有を認める法律",
      "鎌倉幕府の将軍と配下の武士である御家人が土地を仲立ちに結ぶ関係性",
      "江戸時代に行われた，幕府と藩が全国を支配する仕組み",
      "幕藩体制によって区別された大名のうち，徳川家の一族",
      "幕藩体制によって区別された大名のうち，古くからの徳川家の家臣",
      "幕藩体制によって区別された大名のうち，関ヶ原の戦いの頃から従うようになった大名",
      "幕府や藩の財政基盤となっていた，百姓が収める税",
      "年貢を増やすため，海や広い沼地の干拓などをすること",
      "最初から商品として売ることを目的とした農作物",
      "労働条件の改善を目指して起こったストライキなどの総称",
      "戦後，農村で地主が持つ小作地を政府が強制的に買い上げて小作人に安く売り渡したことにより多くの自作農が生まれた改革",
      "1950年代後半から70年代前半まで続いた，日本経済が急成長する時期のこと"
    ];
    answer=[
      "猿人",
      "氷河時代",
      "十七条の憲法",
      "大化の改新",
      "壬申の乱",
      "天武天皇",
      "大宝律令",
      "摂関政治",
      "藤原氏",
      "院政",
      "白河上皇",
      "北条氏",
      "承久の乱",
      "御成敗式目",
      "永仁の徳政令",
      "建武の新政",
      "下剋上",
      "楽市・楽座",
      "太閤検地",
      "刀狩",
      "兵農分離",
      "参勤交代",
      "武家諸法度",
      "享保の改革",
      "公事方御定書",
      "寛政の改革",
      "天保の改革",
      "異国船打払令",
      "地租改正",
      "大日本帝国憲法",
      "国際連盟",
      "大正デモクラシー",
      "普通選挙法",
      "治安維持法",
      "五・一五事件",
      "二・二六事件",
      "国際連合",
      "日本国憲法",
      "サンフランシスコ平和条約",
      "日ソ共同宣言",
      "公地・公民",
      "租",
      "調",
      "庸",
      "防人",
      "班田収授法",
      "墾田永年私財法",
      "御恩と奉公",
      "幕藩体制",
      "親藩",
      "譜代大名",
      "外様大名",
      "年貢",
      "新田開発",
      "商品作物",
      "労働争議",
      "農地改革",
      "高度経済成長"
    ];
    NoQ=0;
    check.length=0;
    document.getElementById("viewer").style.display="block";
    Question();
  }
  function CheckAnswer(){
    const Value=document.getElementById("Textarea");
    const VoA=document.getElementById("idName");
    if(Value.value===answer[NoQ]){
      Value.style.display='none';
      VoA.innerHTML="正解";
      check.push(`問題：${question[NoQ]} 正答：${answer[NoQ]} 判定：⚪︎`);
    }else{
      Value.style.display='none';
      VoA.innerHTML="不正解";
      check.push(`問題：${question[NoQ]} 正答：${answer[NoQ]} 判定：×`);
    }
    NoQ++;
  }
  function Question(){
    const Value=document.getElementById("Textarea");
    const Q=document.getElementById("idName");
    Value.style.display='block'; Value.value="";
    if(NoQ===question.length){
      Q.innerHTML=""; Value.style.display='none';
      check.forEach(c=>Q.innerHTML+=`<br><br>${c}`);
    }else{
      Q.innerHTML=question[NoQ];
    }
  }
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("Service Worker registered"))
      .catch(err => console.error("SW registration failed", err));
  }
</script>
</body>
</html>
-->

<!--<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>クイズ</title>
  <link rel="apple-touch-icon" href="IMG_6612.jpeg">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4CAF50">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      height: 100%;
      width: 100%;
    }
    body {
      display: flex;
      flex-direction: row;
    }
    #menu-button {
      position: fixed;
      top: 1vh;
      left: 1vw;
      background: none;
      border: none;
      padding: 0;
      font-size: 4vh;
      font-weight: bold;
      z-index: 1000;
      cursor: pointer;
    }
    #header-area {
      width: 20vw;
      min-width: 120px;
      background-color: #f0f0f0;
      padding: 2vh 1vw;
      height: 100vh;
      box-sizing: border-box;
      z-index: 2;           /* 上に表示 */
    }
    #header-area h2 {
      cursor: pointer;
      margin: 2vh 0;
      font-size: 2.5vh;
    }
    hr {
      margin-top: 2vh;
    }

    @media (max-width: 600px) {
      #header-area {
        width: 50vw;
      }
      #menu-button {
        font-size: 5vh;
      }
      #header-area h2 {
        font-size: 3vh;
      }
    }
    /* --- クイズ全体スタイル --- */
#viewer body {
  font-family: Arial, sans-serif;
}

#viewer {
  position: fixed;          /* absolute → fixed に変更 */
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;  /* 横中央 */
  align-items: center;      /* 縦中央 */
  padding: 20px;
  box-sizing: border-box;
  background: transparent;
  z-index: 1;               /* サイドバーより下 */
}

.container {
  display: flex;
  flex-direction: column;
  justify-content: center;  /* 子要素縦中央 */
  align-items: center;      /* 子要素横中央 */
  width: 100%;
  max-width: 800px;
  height: auto;             /* 画面全体を使うなら 100% にもできる */
  min-height: 50vh;         /* コンテンツが少ないときに中央寄せ */
  text-align: center;
  padding: 20px;
  box-sizing: border-box;
}

.quiz-info {
  font-size: 1.5rem;
  color: white;
  margin-bottom: 20px;
  padding: 8px 12px;
  border: 2px solid #333;
  border-radius: 5px;
  background-color: dimgrey;
  display: inline-block;
}

.quiz-container,
.result-section,
.final-section {
  display: none;
  margin: 20px auto;
}

.question-number {
  font-weight: bold;
  font-size: 1.5rem;
  margin-bottom: 15px;
  text-align: center;
}

.question {
  font-weight: bold;
  margin-bottom: 20px;
  padding: 20px;
  border: 2px solid black;
  border-radius: 10px;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
  background-color: #ffffff;
  text-align: center;
  font-size: 2rem; /* PC用 */
}

/* 選択肢グリッド */
.grid-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 15px;
  justify-items: center;
}

.choice {
  padding: 20px;
  background-color: #ffffff;
  text-align: center;
  cursor: pointer;
  border: 2px solid black;
  border-radius: 10px;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
  font-size: 1.5rem;
  transition: background-color 0.3s, transform 0.2s;
}

.choice:hover {
  background-color: #d0d0d0;
  transform: scale(1.05);
}

.result-section {
  padding: 20px;
  border: 2px solid black;
  border-radius: 10px;
  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.5);
  background-color: #f1f1f1;
  text-align: center;
}

#answer-result {
  font-size: 2rem;
  margin-bottom: 15px;
}

.correct { color: green; }
.wrong { color: red; }

#next-question, #restart-quiz {
  margin-top: 20px;
  padding: 15px;
  background-color: #e0e0e0;
  text-align: center;
  cursor: pointer;
  border: 2px solid black;
  border-radius: 10px;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
  transition: background-color 0.3s, transform 0.2s;
  max-width: 300px;
  margin-left: auto;
  margin-right: auto;
  font-size: 1.5rem;
}

#next-question:hover, #restart-quiz:hover {
  background-color: #d0d0d0;
  transform: scale(1.05);
}

.final-section {
  padding: 20px;
  border: 2px solid black;
  border-radius: 10px;
  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
  background-color: #f9f9f9;
  margin: 20px auto;
  max-width: 800px;
  font-size: 1.5rem;
  text-align: center;
}

/* --- スマホ用レスポンシブ --- */
@media (max-width: 600px) {
  .question {
    font-size: 4vw;   /* 画面幅に合わせて自動調整 */
    padding: 15px;
  }
  .question-number {
    font-size: 3.5vw;
    margin-bottom: 10px;
  }
  .choice {
    font-size: 3.5vw;
    padding: 15px;
  }
  #next-question, #restart-quiz {
    font-size: 4vw;
    padding: 12px;
  }
  .quiz-info {
    font-size: 3.5vw;
    padding: 6px 10px;
  }
  .grid-container {
    grid-template-columns: 1fr; /* スマホでは縦並び */
    grid-gap: 10px;
  }
}
  </style>
</head>
<body>
  <div id="menu-button" onclick="toggleHeader()">≡</div>
  <div id="header-area">
    <div style="margin-top:6vh;">
      <h2 onclick="Quiz(SocialStudies)">社会</h2>
      <hr>
    </div>
  </div>

  <div id="viewer">
    <div class="container" id="container">
      <div class="quiz-info">
        全 <span id="total-questions"></span> 問
      </div>
      <h1>社会</h1>
      <div class="quiz-container" id="quiz-container">
        <div class="question-number" id="question-number"></div>
        <div class="question" id="question"></div>
        <div class="grid-container" id="choices-container"></div>
      </div>
      <div class="result-section" id="answer-section">
        <h2>回答結果</h2>
        <p id="answer-result"></p>
        <div id="next-question" onclick="nextQuestion()">次の問題へ</div>
      </div>
      <div id="final-result" class="final-section">
        <h2>最終結果</h2>
        <p id="score"></p>
        <div id="restart-quiz" onclick="restartQuiz()">もう一度遊ぶ</div>
      </div>
    </div>
  </div>

<script>
  const SocialStudies = [
    {
      question: "16世紀から18世紀までの欧米諸国は，アジアの大国に対して，人口や国力では？",
      choices: [
        { text: "優れていた．" },
        { text: "劣っていた．" },
      ],
      correct: 1,
    },
    {
      question: "人口や国力では劣っていた欧米諸国がアジアの大国も支配させることができるようになったのはなぜ？",
      choices: [
        { text: "宗教家が多く，その宗教による国の団結力が高かったため．" },
        { text: "国権力者が，アジアの人々を人質として拉致したため．" },
        { text: "産業革命で，軍事や工業の優れた技術を手に入れたため．" },
        { text: "この頃のアジアは各地で内戦が起こり，国内の結束が緩くなっていたため．" },
      ],
      correct: 2,
    },
  ];

  let currentQuiz = [];
  let currentQuestion = 0;
  let score = 0;

  function Quiz(subject) {
    currentQuiz = subject;
    currentQuestion = 0;
    score = 0;
    document.getElementById("viewer").style.display = "block";
    document.getElementById("total-questions").textContent = currentQuiz.length;
    initQuiz();
  }

  function initQuiz() {
    loadQuestion();
  }

  function loadQuestion() {
    document.getElementById("quiz-container").style.display = "block";
    document.getElementById("answer-section").style.display = "none";
    document.getElementById("final-result").style.display = "none";
    document.getElementById("question-number").textContent = `第 ${currentQuestion + 1} 問`;
    const questionData = currentQuiz[currentQuestion];
    document.getElementById("question").textContent = questionData.question;
    const choicesContainer = document.getElementById("choices-container");
    choicesContainer.innerHTML = "";
    questionData.choices.forEach((choice, index) => {
      const choiceDiv = document.createElement("div");
      choiceDiv.classList.add("choice");
      choiceDiv.textContent = `${index + 1}. ${choice.text}`;
      choiceDiv.onclick = () => checkAnswer(index, questionData);
      choicesContainer.appendChild(choiceDiv);
    });
  }

  function checkAnswer(selected, questionData) {
    document.getElementById("quiz-container").style.display = "none";
    document.getElementById("answer-section").style.display = "block";
    const resultText = document.getElementById("answer-result");
    if (selected === questionData.correct) {
      resultText.innerHTML = "<span class='correct'>正解</span>";
      score++;
    } else {
      resultText.innerHTML = "<span class='wrong'>不正解</span>";
    }
    if (currentQuestion === currentQuiz.length - 1) {
      document.getElementById("next-question").textContent = "結果を見る";
    } else {
      document.getElementById("next-question").textContent = "次の問題へ";
    }
  }

  function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < currentQuiz.length) {
      loadQuestion();
      document.getElementById("container").scrollIntoView({ behavior: "smooth" });
    } else {
      showResult();
    }
  }

  function showResult() {
    document.getElementById("answer-section").style.display = "none";
    document.getElementById("final-result").style.display = "block";
    const percentage = (score / currentQuiz.length) * 100;
    document.getElementById("score").textContent =
      `正解数: ${score}/${currentQuiz.length} (${percentage.toFixed(1)}%)`;
  }

  function restartQuiz() {
    currentQuestion = 0;
    score = 0;
    initQuiz();
  }

  function toggleHeader() {
  const header = document.getElementById("header-area");
  if (header.style.display === "none" || header.style.display === "") {
    header.style.display = "block";
  } else {
    header.style.display = "none";
  }
  }

  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("Service Worker registered"))
      .catch(err => console.error("SW registration failed", err));
  }
</script>
</body>
</html>-->

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>クイズ</title>
  <link rel="apple-touch-icon" href="IMG_6612.jpeg">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4CAF50">
  <style>
    body {
      font-family: system-ui, -apple-system, "Helvetica Neue", sans-serif;
      /*padding: 2rem;*/
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    #menu-button {
      position: fixed;
      top: 10px;
      left: 10px;
      background: none;
      border: none;
      padding: 0;
      font-size: 24px;
      font-weight: bold;
      z-index: 1000;
      cursor: pointer;
    }
    html, body {
      height: 100%;
      width: 100%;
    }
    body {
      display: flex;
      flex-direction: row;
    }
    #header-area {
      width: 200px;
      min-width: 150px;
      background-color: #f0f0f0;
      padding: 10px;
      height: 100vh;
      box-sizing: border-box;
      margin-top: 0;
    }
    #viewer {
      flex-grow: 1;
      border: none;
      height: 100vh;
    }
    h1:first-of-type {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 10;
      background: white;
      border: 1px solid #ccc;
      padding: 5px;
      cursor: pointer;
    }
    h2 {
      cursor: pointer;
      margin: 10px 0;
    }
    hr {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div id="menu-button" onclick="toggleHeader()">≡</div>
  <div id="header-area">
    <div style="margin-top: 50px;"> 
      <h2 onclick="loadHTML('SocialStudies.html')">社会</h2>
      <hr>
    </div>
  </div>
  <iframe id="viewer" src=""></iframe>
<script>
  const iframe = document.getElementById("viewer");
    let sharedValue = "";
    function toggleHeader() {
      const header = document.getElementById('header-area');
      header.style.display = (header.style.display === "none") ? "block" : "none";
    }
    function loadHTML(file) {
      iframe.src = file;
    }
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("Service Worker registered"))
      .catch(err => console.error("SW registration failed", err));
  }
</script>
</body>
</html>
